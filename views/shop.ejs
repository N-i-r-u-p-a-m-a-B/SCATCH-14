<%- include('./partials/header') %> <% if (success.length > 0) { %>
<div
  class="absolute top-5 left-1/2 -translate-x-1/2 -translate-y-1/2 p-3 rounded-md bg-red-500"
>
  <span class="inline-block mt-1 mb-1 text-white"><%= success %></span>
</div>
<% } %>

<div class="w-full h-screen pt-6 pl-6">
  <nav class="flex justify-between items-center">
    <h1 class="text-4xl col-start-1 ml-[1vw]">Shop</h1>
  </nav>
  <div class="flex gap-[8vw] w-full">
    <div class="pt-10 flex flex-col ml-3 w-2/12">
      <div class="mb-10">
        <label class="text-2xl" for="sort">Sort by:</label>
        <form action="/shop">
          <select name="sort" id="sort">
            <option value="popular">Popular</option>
            <option value="new">New</option>
            <option value="price-asc">Price: Low to High</option>
            <option value="price-desc">Price: High to Low</option>
          </select>
        </form>
      </div>
      <a class="text-2xl" href="/shop">New Collection</a>
      <a class="text-2xl" href="/shop">All Products</a>
      <a class="text-2xl" href="/shop">Discontinued Product</a>
    </div>
    <div class="h-screen pl-10 w-10/12">
      <div class="w-[85%] flex flex-col gap-6 h-screen">
        <div class="flex items-center justify-center gap-10">
          <div
            class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-20 p-6"
          >
            <% products.forEach(function(product){ %>
            <div class="w-60">
              <div
                class="max-w-sm mx-auto h-[13rem] rounded-t-lg overflow-hidden flex items-center justify-center bg-[<%= product.bgcolor %>]"
              >
                <img
                  src="data:image/jpeg;base64,<%= product.image.toString('base64') %>"
                  alt=""
                />
              </div>
              <div
                class="flex justify-between bg-[<%= product.panelcolor %>] rounded-b-lg items-center px-4 py-4 text-[<%= product.textcolor %>]"
              >
                <div>
                  <h3><%= product.name %></h3>
                  <h4>â‚¹ <%= product.price %></h4>
                </div>
                <a
                  class="w-7 h-7 flex items-center justify-center rounded-full bg-white"
                  href="/addtocart/<%= product._id %>"
                >
                  <i class="ri-add-line"></i>
                </a>
              </div>
            </div>
            <% }) %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('./partials/footer') %>
